{"ast":null,"code":"var _jsxFileName = \"/Users/tupryk/Documents/Projects/icanhazshark/app/src/modules/SharkFellaCss.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useCallback } from 'react';\nimport \"../css/sharkFella.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction RenderFella(_ref) {\n  _s();\n  let {\n    imageUrl\n  } = _ref;\n  const image_width = 128; // Shoud be influenced by actual size of shark\n  const image_height = 100;\n  const [point, setPoint] = useState({\n    left: Math.random() * (window.innerHeight - image_height),\n    top: Math.random() * (window.innerHeight - image_height)\n  });\n  const [rotation, setRotation] = useState(0);\n  const [flip, setFlip] = useState(Math.round(Math.random()) - 1);\n  const [time_to_move, setTimeToMove] = useState(Math.random() * 2000 + 3000);\n\n  /*\n  let wable = 0;\n  let wable_amplitud = 0.07;\n  let wable_speed = 0.07;\n  let vis_h = ( image_height * (1-Math.abs( Math.sin(wable)*wable_amplitud+(1-wable_amplitud) )) ) + ( image_height*(1-wable_amplitud) ); \n  let vis_y = y - (image_width / 2) + image_height - vis_h;\n  */\n\n  const setNewPoint = useCallback(() => {\n    if (Math.round(Math.random()) == 0) console.log(-1);else console.log(1);\n    console.log(Math.round(Math.random()));\n    const newPoint = {\n      left: Math.random() * (window.innerWidth - image_width),\n      top: Math.random() * (window.innerHeight - image_height)\n    };\n    let co = newPoint.top - point.top;\n    let ca = newPoint.left - point.left;\n    let angle = Math.atan(Math.abs(co) / Math.abs(ca));\n    if (ca < 0) setFlip(1);else setFlip(-1);\n    if (co > 0 && ca < 0 || co < 0 && ca > 0) angle = Math.PI * 2 - angle;\n    setRotation(angle);\n    setPoint(newPoint);\n    setTimeToMove(Math.random() * 2000 + 3000);\n  }, [point]);\n  useEffect(() => {\n    const intervalId = setInterval(setNewPoint, time_to_move + Math.random() * time_to_move);\n    return () => clearInterval(intervalId);\n  }, [setNewPoint, time_to_move]);\n  return /*#__PURE__*/_jsxDEV(\"img\", {\n    className: \"sharkFella\",\n    src: imageUrl,\n    alt: \"Moving shark\",\n    width: image_width,\n    height: image_height,\n    style: {\n      ...point,\n      transform: `rotate(${rotation}rad) scaleX(${flip})`,\n      transition: `left ${time_to_move}ms linear, top ${time_to_move}ms linear, transform 200ms ease-in-out`\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 12\n  }, this);\n}\n_s(RenderFella, \"QZ6qgbVky4QiF98ZGam/s7rve48=\");\n_c = RenderFella;\nexport default RenderFella;\nvar _c;\n$RefreshReg$(_c, \"RenderFella\");","map":{"version":3,"names":["React","useEffect","useState","useCallback","RenderFella","imageUrl","image_width","image_height","point","setPoint","left","Math","random","window","innerHeight","top","rotation","setRotation","flip","setFlip","round","time_to_move","setTimeToMove","setNewPoint","console","log","newPoint","innerWidth","co","ca","angle","atan","abs","PI","intervalId","setInterval","clearInterval","transform","transition"],"sources":["/Users/tupryk/Documents/Projects/icanhazshark/app/src/modules/SharkFellaCss.js"],"sourcesContent":["import React, { useEffect, useState, useCallback } from 'react';\nimport \"../css/sharkFella.css\"\n\n\nfunction RenderFella({ imageUrl }) {\n    const image_width = 128; // Shoud be influenced by actual size of shark\n    const image_height = 100;\n\n    const [point, setPoint] = useState({\n        left: Math.random() * (window.innerHeight - image_height),\n        top: Math.random() * (window.innerHeight - image_height),\n    });\n    const [rotation, setRotation] = useState(0);\n    const [flip, setFlip] = useState( Math.round( Math.random() ) - 1 );\n    const [time_to_move, setTimeToMove] = useState( ( Math.random() * 2000 ) + 3000 );\n\n    /*\n    let wable = 0;\n    let wable_amplitud = 0.07;\n    let wable_speed = 0.07;\n    let vis_h = ( image_height * (1-Math.abs( Math.sin(wable)*wable_amplitud+(1-wable_amplitud) )) ) + ( image_height*(1-wable_amplitud) ); \n    let vis_y = y - (image_width / 2) + image_height - vis_h;\n    */\n\n    const setNewPoint = useCallback(() => {\n        if ( Math.round( Math.random() ) == 0) console.log( -1 );\n        else console.log( 1 );\n        console.log( Math.round( Math.random() ) );\n        const newPoint = {\n            left: Math.random() * (window.innerWidth - image_width),\n            top: Math.random() * (window.innerHeight - image_height),\n        };\n        let co = newPoint.top - point.top;\n        let ca = newPoint.left - point.left;\n        let angle = Math.atan(Math.abs(co) / Math.abs(ca));\n\n        if (ca < 0) setFlip(1);\n        else setFlip(-1);\n\n        if ( (co > 0 && ca < 0) || (co < 0 && ca > 0) )\n            angle = Math.PI * 2 - angle;\n        setRotation(angle);\n\n        setPoint(newPoint);\n\n        setTimeToMove( ( Math.random() * 2000 ) + 3000 );\n    }, [point]);\n\n    useEffect(() => {\n        const intervalId = setInterval(setNewPoint, time_to_move+(Math.random()*time_to_move));\n        return () => clearInterval(intervalId);\n    }, [setNewPoint, time_to_move]);\n\n    return <img\n        className=\"sharkFella\"\n        src={imageUrl}\n        alt=\"Moving shark\"\n        width={image_width}\n        height={image_height}\n        style={{\n            ...point,\n            transform: `rotate(${rotation}rad) scaleX(${flip})`,\n            transition: `left ${time_to_move}ms linear, top ${time_to_move}ms linear, transform 200ms ease-in-out` }}\n    />;\n}\n\nexport default RenderFella;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}